"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7833],{67833:function(e,t,n){n.d(t,{D9:function(){return f},H$:function(){return c},pn:function(){return u}});var r=n(31564),a=n(20266),s=n.n(a),o=n(47814),i=n(72595),u=function(e){var t=e.gympass_user_id,n=e.country_code,r=e.origin;try{window.sessionStorage.setItem("gympass_user_id",t),window.sessionStorage.setItem("gympass_country",n),window.sessionStorage.setItem("gympass_origin",r)}catch(a){console.debug(a)}},c=function(){try{window.sessionStorage.removeItem("gympass_user_id"),window.sessionStorage.removeItem("gympass_origin"),window.sessionStorage.removeItem("gympass_country")}catch(e){console.debug(e)}},p=function(e,t){var n=!1;try{n=!!window.sessionStorage.getItem("gympass_user_id")&&!!window.sessionStorage.getItem("gympass_origin")&&!!window.sessionStorage.getItem("gympass_country")}catch(r){t("error",e("premium.redeem.ohNoError"))}return n},f=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){var a,u,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p(n,r)){e.next=14;break}return e.prev=1,a=window.sessionStorage.getItem("gympass_user_id"),u=window.sessionStorage.getItem("gympass_origin"),f=window.sessionStorage.getItem("gympass_country"),e.next=7,(0,o.pO)({gympass_user_id:a,origin:u,country_code:f});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.message.includes("Cannot read properties of null (reading 'getItem')")?r("error",n("premium.redeem.ohNoError")):r("error",n("gympass.error.alreadyLinked"));case 12:"login"===t?(0,i.hV)([i.Tw],"screen_viewed",{path:"/account/login",referrer:"/gympass"}):"signup"===t&&(0,i.hV)([i.Tw],"sign_up",{entry_point:"/gympass",feature:"gympass"}),c();case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()},47814:function(e,t,n){n.d(t,{Fy:function(){return c},J_:function(){return k},PQ:function(){return m},RJ:function(){return N},T8:function(){return E},av:function(){return q},ce:function(){return b},kv:function(){return h},pO:function(){return F},s2:function(){return g},tm:function(){return f},y5:function(){return v},zr:function(){return I}});var r=n(95552),a=n(31564),s=n(20266),o=n.n(s),i=n(5349),u=["client","captchaToken"];function c(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(o().mark((function e(t){var n,r,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.client,a=void 0===r?i.o:r,e.next=3,a.post("/api/account/profiles/any/emails/confirm",{verificationToken:n});case 3:return s=e.sent,u=s.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=void 0===n?i.o:n,e.next=3,r.delete("/api/services/account/delete");case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(o().mark((function e(t){var n,r,a,s,u,c,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.password,a=t.captchaToken,s=t.client,u=void 0===s?i.o:s,e.next=3,u.post("/api/account/password_reset",{token:n,password:r},{params:{operation:"reset"},headers:{"captcha-token":a}});case 3:return c=e.sent,p=c.data,e.abrupt("return",p);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(o().mark((function e(t){var n,r,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.client,a=void 0===r?i.o:r,e.next=3,a.post("/api/account/password_reset",{email:n,app_name:"MYFITNESSPAL"},{params:{operation:"initiate"}});case 3:return s=e.sent,u=s.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=void 0===n?i.o:n,e.next=3,r.get("/api/services/account/email_settings");case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(o().mark((function e(t){var n,a,s,c,p,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,a=void 0===n?i.o:n,s=t.captchaToken,!(c=(0,r.Z)(t,u)).email){e.next=8;break}return p=c.email,f=c.currentEmail,d=c.password,e.next=5,a.patch("/api/services/account/email_settings",{email:p,currentEmail:f,password:d},{headers:{"captcha-token":s}});case 5:delete c.email,delete c.currentEmail,delete c.password;case 8:return e.next=10,a.patch("/api/services/account/email_settings",c);case 10:return e.next=12,a.get("/api/auth/refresh-token-data");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.get("/api/services/account/clear_cached_consents");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=void 0===n?i.o:n,e.next=3,r.get("/api/services/account/login_counter");case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)(o().mark((function e(t){var n,r,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=void 0===n?i.o:n,a=t.requestedDays,e.next=3,r.post("/api/services/account/login_counter",{requested_days:a});case 3:return s=e.sent,u=s.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.post("/api/services/fb/connect",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.get("/api/services/fb/disconnect");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.post("/api/services/fb/change_password",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.post("/api/services/account/link-to-gympass",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=7833-92e4bbe9aaccfc67.js.map